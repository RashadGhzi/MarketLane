<script>
    // product view page
    $('#prod-view-cart').click(function(){
        // console.log('button clicked');
        prod_id = $('input[name="prod_id"]').val();
        //console.log(prod_id);
        data = {'prod_id':prod_id};
        $.ajax({
            url:"{% url 'add_product_cart' %}",
            method:'GET',
            data:data,
            success:function(response){
                //console.log('product added to cart');
                cart_count = document.getElementById('cart-count')
                cart_count.innerText = response.cart;
            }
        })
    })

    // home page add cart
    $('button.cart-btn').click(function(){
        //console.log('button clicked')
        prod_id = $(this).attr('data-id');
        //console.log(prod_id)
        data = {
            'prod_id':prod_id
            }
        $.ajax({
            url:"{% url 'add_product_cart' %}",
            method:'GET',
            data:data,
            success:function(response){
                //console.log('product added to cart');
                cart_count = document.getElementById('cart-count')
                cart_count.innerText = response.cart;
            }
        })
    })

    // home banner cloth, sunglass and shoes add cart 
    $('button.product-button').click(function(){
        //console.log('clicked')
        prod_id = $(this).attr('data-id');
    //console.log(prod_id)
    data = {'prod_id':prod_id}
    $.ajax({
        url:"{% url 'add_product_cart' %}",
        method:'GET',
        data:data,
        success:function(response){
                //console.log('product added to cart');
                cart_count = document.getElementById('cart-count')
                cart_count.innerText = response.cart;
            }
        })
    })

    // men and women page product adding to cart 
    $('button.product-card-btn').click(function(){
        //console.log('clicked');
        prod_id = $(this).attr('data-id');
        //console.log(prod_id);
        data = {
        'prod_id':prod_id
        }
        $.ajax({
            url:"{% url 'add_product_cart' %}",
            method:'GET',
            data:data,
            success:function(response){
                cart_count = document.getElementById('cart-count')
                cart_count.innerText = response.cart;
                // let add_cart_btn = $(`button[data-id=${prod_id}]`);
                // add_cart_btn.addClass('d-none');

                // let show_cart = $(`a[data-id=${prod_id}]`);
                // show_cart.removeClass('d-none');
                // show_cart.addClass('d-block');
                // console.log(v)
            }
        })
    })

    // this is catergory view gender and ladies products. These products are retreive by ajax 
    $('#cat-gender-view').on('click', '.cart-btn-cat', function(){
        //console.log('clicked');
    prod_id = $(this).attr('data-id');
    //console.log(prod_id);
    data = {
        'prod_id':prod_id
        }
    $.ajax({
        url:"{% url 'add_product_cart' %}",
    method:'GET',
    data:data,
    success:function(response){
            //console.log('product added to cart');
            cart_count = document.getElementById('cart-count')
            cart_count.innerText = response.cart;
            }
        })
    })


    // working with product_cart page quantity plus ajax 
    $('button.plus').click(function(){
        // console.log('clicked');
        cart_id = $(this).attr('data-id');
    sqe = this.parentNode.children[1];
    // console.log(sqe);
    price_el = this.parentElement.parentElement.children[1];
    // console.log(price_el);
    let all_prod_price = document.getElementById('porducts-total-price')
    let total_with_shipping = document.getElementById('total-with-shipping')

    data = {'cart_id':cart_id}
    $.ajax({
        url:"{% url 'plus_product_cart' %}",
    method:'GET',
    data:data,
    success:function(response){
        // console.log(response)
        sqe.value = response.cart_quantity;
    price_el.innerText = `$${response.obj_total_price}`;
    all_prod_price.innerText = `$${response.products_total_price}`;
    total_with_shipping.innerText = `$${response.products_total_price_with_shipping_price}`;
            }
        })
    })


    // working with product_cart page quantity minus ajax 
    $('button.minus').click(function(){
        // console.log('clicked');
        cart_id = $(this).attr('data-id');
        sqe = this.parentNode.children[1];
        // console.log(sqe);
        price_el = this.parentElement.parentElement.children[1];
        // console.log(price_el);
        let all_prod_price = document.getElementById('porducts-total-price')
        let total_with_shipping = document.getElementById('total-with-shipping')

        data = {'cart_id':cart_id}
        $.ajax({
            url:"{% url 'minus_product_cart' %}",
        method:'GET',
        data:data,
        success:function(response){
            // console.log(response)
            sqe.value = response.cart_quantity;
            price_el.innerText = `$${response.obj_total_price}`;
            all_prod_price.innerText = `$${response.products_total_price}`;
            total_with_shipping.innerText = `$${response.products_total_price_with_shipping_price}`;
            }
        })
    })
</script>